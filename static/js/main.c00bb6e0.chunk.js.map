{"version":3,"sources":["App.js","index.js"],"names":["flip","Math","floor","random","reducer","state","action","type","payload","Remove","children","style","color","Add","Add3","formatHistory","value","App","starting","useState","days","setDays","useReducer","history","dispatch","flipCoins","reset","useCoinFlip","auto","setAuto","useEffect","setTimeout","max","src","onClick","disabled","htmlFor","onChange","e","checked","target","id","height","overflow","map","h","i","length","toString","padStart","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6KAEA,SAASA,IACP,OAAOC,KAAKC,MAAsB,EAAhBD,KAAKE,UAGzB,SAASC,EAAQC,EAAOC,GACtB,OAAOA,EAAOC,MACZ,IAAK,MAAO,MAAM,CAChBD,EAAOE,SADG,mBAEPH,IAEL,IAAK,QAAS,MAAO,IAgCzB,SAASI,EAAT,GAA4B,IAAXC,EAAU,EAAVA,SACf,OAAO,sBAAMC,MAAO,CAClBC,MAAM,QADD,SAGJF,IAIL,SAASG,EAAT,GAAyB,IAAXH,EAAU,EAAVA,SACZ,OAAO,sBAAMC,MAAO,CAClBC,MAAM,WADD,SAGJF,IAIL,SAASI,EAAT,GAA0B,IAAXJ,EAAU,EAAVA,SACb,OAAO,sBAAMC,MAAO,CAClBC,MAAM,OADD,SAGJF,IAIL,SAASK,EAAcC,GACrB,OAAQA,GACN,KAAM,EAAG,OAAO,cAACP,EAAD,UAAS,6BACzB,KAAK,EAAG,OAAQ,cAACI,EAAD,UAAM,+BACtB,KAAK,EAAG,OAAQ,cAACC,EAAD,UAAO,0BAIZ,SAASG,IAAO,IAAD,EA5D9B,WAAmC,IAAdC,EAAa,uDAAF,EAAE,EACRC,mBAASD,GADD,mBACzBE,EADyB,KACnBC,EADmB,OAEJC,qBAAWlB,EAAS,IAFhB,mBAEzBmB,EAFyB,KAEhBC,EAFgB,KAIhC,SAASC,IACP,OAAOzB,IAASA,KACd,KAAK,EACHqB,EAASD,EAAO,GAChBI,EAAS,CAACjB,KAAM,MAAOC,SAAU,IACjC,MACF,KAAK,EACHgB,EAAS,CAACjB,KAAM,MAAOC,QAAS,IAChC,MACF,KAAK,EACHa,EAASD,EAAO,GAChBI,EAAS,CAACjB,KAAM,MAAOC,QAAS,KAKtC,SAASkB,IACPF,EAAS,CAACjB,KAAM,UAChBc,EAAQ,GAGV,MAAO,CAACD,OAAMK,YAAWF,UAASG,SAoCQC,GAAnCP,EADqB,EACrBA,KAAMK,EADe,EACfA,UAAWF,EADI,EACJA,QAASG,EADL,EACKA,MADL,EAEJP,oBAAS,GAFL,mBAErBS,EAFqB,KAEfC,EAFe,KAiB5B,OARAC,qBAAU,WACLF,GAAiB,IAATR,GACTW,YAAW,WACTN,MACCxB,KAAK+B,IAAI,IAAOZ,EAAM,QAE1B,CAACG,EAASK,IAGX,gCACE,qBAAKK,IAAK,eACV,6CAAgBb,KACd,wBAAQc,QAAST,EAAWU,SAAmB,IAATf,EAAtC,kBAGA,wBAAQc,QAASR,EAAOS,SAAmB,IAATf,EAAlC,mBAGA,uBAAOgB,QAAQ,OAAf,uBACA,uBAAO7B,KAAK,WAAW8B,SAxB7B,SAAuBC,GACrB,IAAMC,EAAUD,EAAEE,OAAOD,QACzBV,EAAQU,IAsB4CE,GAAG,SACrD,qBAAK9B,MAAO,CAAC+B,OAAO,QAASC,SAAS,UAAtC,SACGpB,EAAQqB,KAAI,SAACC,EAAGC,GAAJ,OAAU,sCAASvB,EAAQwB,OAASD,GAAGE,WAAWC,SAAS,EAAG,GAApD,KAA0DlC,EAAc8B,cCtGvGK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACnC,EAAD,MAEFoC,SAASC,eAAe,W","file":"static/js/main.c00bb6e0.chunk.js","sourcesContent":["import { useEffect, useReducer, useState } from \"react\"\n\nfunction flip() {\n  return Math.floor(Math.random() * 2)\n}\n\nfunction reducer(state, action){\n  switch(action.type){\n    case \"add\": return [\n      action.payload,\n      ...state\n    ]\n    case \"reset\": return []\n  }\n}\n\nfunction useCoinFlip(starting = 3){\n  const [days, setDays] = useState(starting)\n  const [history, dispatch] = useReducer(reducer, [])\n\n  function flipCoins(){\n    switch(flip() + flip()){\n      case 0: \n        setDays( days - 1 )\n        dispatch({type: \"add\", payload: -1})\n        break;\n      case 1:\n        dispatch({type: \"add\", payload: 1})\n        break;\n      case 2:\n        setDays( days + 2)\n        dispatch({type: \"add\", payload: 3})\n        break;\n    }\n  }\n\n  function reset() {\n    dispatch({type: \"reset\"})\n    setDays(3)\n  }\n\n  return {days, flipCoins, history, reset}\n}\n\nfunction Remove({children}){\n  return <span style={{\n    color:\"lime\"\n  }}>\n    {children}\n  </span>\n}\n\nfunction Add({children}){\n  return <span style={{\n    color:\"#ff5501\"\n  }}>\n    {children}\n  </span>\n}\n\nfunction Add3({children}){\n  return <span style={{\n    color:\"red\"\n  }}>\n    {children}\n  </span>\n}\n\nfunction formatHistory(value){\n  switch (value) {\n    case -1: return <Remove>{\"The girls both got Tails\"}</Remove>\n    case 1: return  <Add>{\"One of the girls got Heads\"}</Add>\n    case 3: return  <Add3>{\"Both girls got Heads\"}</Add3>\n  }\n}\n\nexport default function App() {\n  const {days, flipCoins, history, reset} = useCoinFlip()\n  const [auto, setAuto] = useState(false)\n\n  function handleChecked(e){\n    const checked = e.target.checked\n    setAuto(checked)\n  }\n\n  useEffect(() => {\n    if(auto && days !== 0){\n      setTimeout(() => {\n        flipCoins()\n      }, Math.max(1000 / days, 100))\n    }\n  }, [history, auto])\n  \n  return (\n    <div>\n      <img src={\"coins.jpeg\"} />\n      <h3>Days left: {days}</h3>\n        <button onClick={flipCoins} disabled={days === 0}>\n          Flip\n        </button>\n        <button onClick={reset} disabled={days !== 0}>\n          Reset\n        </button>\n        <label htmlFor=\"auto\">Auto-Flip</label>\n        <input type=\"checkbox\" onChange={handleChecked} id=\"auto\"/>\n      <div style={{height:'300px', overflow:'scroll'}}>\n        {history.map((h, i) => <p>Day {(history.length - i).toString().padStart(2, 0)}: {formatHistory(h)}</p>)}\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}